{\rtf1\ansi\ansicpg1252\uc1 \deff0\deflang1036\deflangfe1036{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}
{\f101\froman\fcharset238\fprq2 Times New Roman CE;}{\f102\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f104\froman\fcharset161\fprq2 Times New Roman Greek;}{\f105\froman\fcharset162\fprq2 Times New Roman Tur;}
{\f106\froman\fcharset177\fprq2 Times New Roman (Hebrew);}{\f107\froman\fcharset178\fprq2 Times New Roman (Arabic);}{\f108\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f117\fmodern\fcharset238\fprq1 Courier New CE;}
{\f118\fmodern\fcharset204\fprq1 Courier New Cyr;}{\f120\fmodern\fcharset161\fprq1 Courier New Greek;}{\f121\fmodern\fcharset162\fprq1 Courier New Tur;}{\f122\fmodern\fcharset177\fprq1 Courier New (Hebrew);}
{\f123\fmodern\fcharset178\fprq1 Courier New (Arabic);}{\f124\fmodern\fcharset186\fprq1 Courier New Baltic;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;
\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 \snext0 Normal;}{\*\cs10 \additive Default Paragraph Font;}{\s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 
\fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 \snext15 Standard;}{\*\cs16 \additive \sbasedon10 hmtexte;}{\s17\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f2\fs20\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 \sbasedon0 \snext17 
Plain Text;}}{\info{\title (((Magazine : PC Team 71)))}{\author Belegar}{\operator Belegar}{\creatim\yr2001\mo7\dy16\hr23\min33}{\revtim\yr2001\mo7\dy31\hr3\min9}{\version37}{\edmins434}{\nofpages2}{\nofwords1349}{\nofchars7388}
{\*\company (c) Dwarf Corp.}{\nofcharsws8718}{\vern8249}}\paperw11906\paperh16838\margl1417\margr1417\margt1417\margb1417 
\deftab708\widowctrl\ftnbj\aenddoc\hyphhotz425\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\formshade\horzdoc\dgmargin\dghspace180\dgvspace180\dghorigin1417\dgvorigin1417\dghshow1\dgvshow1
\jexpand\viewkind1\viewscale117\viewzk2\pgbrdrhead\pgbrdrfoot\nolnhtadjtbl \fet0\sectd \linex0\headery708\footery708\colsx708\endnhere\sectlinegrid360\sectdefaultcl {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2
\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6
\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang
{\pntxtb (}{\pntxta )}}\pard\plain \s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20\lang1031\langfe1036\langnp1031 (((Magazine : PC Team 72)))
\par }{\fs20 (((Rubrique : Team pratik)))
\par (((Sous Rubrique : \'e9lectronique)))
\par }\pard\plain \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {
\par }\pard\plain \s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((titre))) Un oscilloscope num\'e9rique sur PC
\par 
\par (((chapo)))
\par Un oscilloscope est un appareil de mesure tr\'e8s on\'e9reux et pourtant extr\'eamement utile pour l'\'e9lectronicien. Nous allons construire le notre, certes limit\'e9 mais qui nous donnera l'occasion de parler de la conversion analogique/num\'e9rique.

\par 
\par (((texte)))
\par L'oscilloscope est un appareil de mesure qui permet de visualiser l'\'e9volution d'une tension en fonction du temps. Il devient indispensable lorsqu'il s'agit de visualiser un dialogue entre plusieurs composants, ou l'\'e9volution d'un courant \'e0
 travers une charge. L'oscilloscope classique se pr\'e9sente sous la forme d'un \'e9cran cathodique et une dizaine de boutons de r\'e9glage en fa\'e7ade. Le principe de fonctionnement est simple : un canon \'e0 \'e9
lectron projette un faisceau lumineux sur un \'e9cran fluorescent. Celui ci se mat\'e9rialise par ce que l'on appelle le spot. Deux plaques verticales situ\'e9es \'e0 gauche et \'e0 droite de ce faisceau se chargent de d\'e9
placer horizontalement le spot :  c'est le d\'e9filement, qui peut \'eatre modifi\'e9e \'e0 loisir par l'utilisateur. Enfin, deux autres plaques horizontales situ\'e9es eu dessus et en dessous du faisceau ont pour but de faire varier le spot verticaleme
nt, en fonction de la diff\'e9rence de potentiel mesur\'e9e. Evidemment , une foule de r\'e9glages suppl\'e9mentaires viennent se greffer tout autour pour r\'e9gler pr\'e9cis\'e9ment le signal. Depuis quelques ann\'e9es, on voit appara\'ee
tre les oscilloscopes num\'e9riques. Ils poss\'e8dent de nombreux avantages et deviennent m\'eame indispensables lorsqu'il s'agit de visualiser un protocole  ou des informations n\'e9cessitant une mise en m\'e9moire. Malheureusement, un tel appareil co
\'fbte assez cher. Qu'\'e0 cela ne tienne, nous allons construire le notre, tr\'e8s simplifi\'e9 bien s\'fbr. Il se mat\'e9rialisera par une petite interface \'e9lectronique qui nous permettra de visualiser une courbe sur l'\'e9cran du PC.
\par 
\par }\pard\plain \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((inter))) La conversion analogique/num\'e9rique
\par Souvent appel\'e9e CAN (ou Analog-to-Digital Conversion en anglais), cette transformation est n\'e9cessaire pour changer le support de l'information. En effet, la donn\'e9e que nous allons visualiser sera sous forme analogique, c'est \'e0
 dire une tension dont l'amplitude peut prendre une infinit\'e9 de valeurs et est variab
le plus ou moins rapidement selon le temps. Or, comme chacun sait, l'ordinateur ne comprends que les 0 et les 1, le binaire, qui se traduit le plus souvent par une tension de 5V pour repr\'e9senter un 1 et une tension de 0V pour repr\'e9
senter le 0. Heureusement pour nous, il existe des composants int\'e9gr\'e9s r\'e9alisant tout ce travail de transformation \'e0 notre place. Plusieurs technologies existent pour mener \'e0 bien cette conversions. Convertisseurs \'e0
 simples et double rampe, qui sont de fabrications tr\'e8s simples mais assez lentes. Les techniques les plus rapides font appelles au principe de r\'e9action ou aux approximations successives. Ce dernier type de convertisseur est le plus r\'e9
pandu. Son principe se base sur la dichotomie : la grandeur analogique est compar\'e9e successivement aux r\'e9ponses num\'e9riques possibles, jusqu'\'e0
 atteindre la valeur la plus proche. C'est en quelque sorte le jeu du "devinez un nombre entre un et cent". L'avantage ce cette m\'e9thode est que le temps de conversion est constant quel que soit la grandeur d'entr\'e9e : le r\'e9
sultat est obtenu en n comparaisons si le convertisseur poss\'e8de une r\'e9solution de n bits. Enfin, les derniers types de convertisseurs, appel\'e9s "parall\'e8les", sont tr\'e8s rapides et trouvent leur utilit\'e9 dans l'imagerie ou les transmissions
 radar par exemple. Bien \'e9videmment, la conversion analogique/num\'e9rique ne se fait pas sans erreurs, ce n'est une quantification num\'e9rique approch\'e9e de la r\'e9alit\'e9 (on parle alors d'erreur de lin\'e9arit\'e9, d'offset et de gain).
\par 
\par (((inter))) Choix d'un convertisseur
\par Voil\'e0 le moment de faire le choix d'un convertisseur adapt\'e9 \'e0 notre utilisation. On peut \'eatre facilement d\'e9sorient\'e9 devant la quantit\'e9
 astronomique de composants existants dans les catalogues. Cependant, il est possible de choisir rapidement le bon convertisseur par ses quelques caract\'e9ristiques. D'une part, sachez que plus le convertisseur sera rapide et pr\'e9cis, plus il co\'fb
tera cher, et les prix peuvent devenir rapidement astronomiques. Un premier param\'e8tre est le protocole de dialogue avec le composant. Il peut \'eatre s\'e9rie, g\'e9n\'e9ralement trois fils suffisent, ou parall\'e8le, la taille du bus de donn\'e9es 
\'e9tant en fonction de la r\'e9solution du convertisseur. Parlons un peu de cette r\'e9solution, qui \'e0 elle seule fixe le prix d'un composant. La r\'e9solution est le nombre de bits sur lesquels la donn\'e9e num\'e9ris\'e9e sera cod\'e9
e. Par exemple, si l'on poss\'e8de un convertisseur 8 bits avec une tension de r\'e9f\'e9rence de 5V, la sensibilit\'e9 sera de 5/256 =  0,01953125 V par LSB (Least Significant Bit). Un convertisseur de 8 bits sera suffisant pour de petites applications n
\'e9cessitant peu de r\'e9solutions, comme un voltm\'e8tre par exemple, et peuvent se trouver facilement pour quelques dizaines de francs. Les versions 10 et 12 bits se montreront beaucoup plus pr\'e9cis, mais il faudra al
ors compter aux alentours de cent francs. Pensez cependant que la r\'e9solution ne fait pas toute la qualit\'e9 du circuit car la simple variation de l'alimentation peut rendre les r\'e9sultats d'un convertisseur compl\'e8tement aberrants, m\'ea
me s'il est de tr\'e8s grande r\'e9solution. Enfin, d'autres crit\'e8res peuvent \'eatre pris en compte comme le nombre de voies, la taille du bo\'eetier ou la consommation.
\par 
\par (((inter))) Le montage
\par Un oscilloscope est en r\'e9alit\'e9 un voltm\'e8tre et partant ne doit pas perturber le fonctionnement du montage o\'f9 il vient visualiser les grandeurs \'e9lectriques. Pour cela, nous lui adjoignons un amplificateur op\'e9rationnel mont\'e9
 en suiveur : comme il poss\'e8de une forte imp\'e9dance d'entr\'e9e (de l'ordre du m\'e9gohms), il ne causera aucun tord \'e0 l'\'e9lectronique. Bien s\'fbr, pour ne pas brider les performances du CAN, il faut bien choisir l'amplificateur op\'e9
rationnel. Il faut veillez \'e0 ce que celui-ci poss\'e8de un bon slew-rate, c'est \'e0 dire qu'il soit rapide. Nous l'alimentons en 5V ce qui limitera la visualisation des tensions \'e0
 cette plage. En ce qui concerne le CAN, le composant que nous utilisons ici est le ADC0831. C'est un convertisseur 8 bits avec acc\'e8s s\'e9rie, le tout empaquet\'e9 dans un petit bo\'eetier DIL de 8 broches. Le c\'e2
blage d'un tel composant est simple, il faut bien s\'fbr prendre soin de relier convenablement la broche de voltage de r\'e9f\'e9rence. G\'e9n\'e9ralement, celle-ci poss\'e8de le m\'eame potentiel que l'alimentation du composant. L'alimentation peut \'ea
tre externe, issue d'un r\'e9gulateur de tension comme le fameux 7805. Enfin, le tout est reli\'e9 au PC via le port parall\'e8le pour dialoguer avec le composant. Point de composants suppl\'e9mentaires car le port parall\'e8le est TTL.
\par 
\par (((inter))) La programmation
\par L'algorithme principal est la lecture de la donn\'e9e num\'e9ris\'e9e. Pour cela, il faut se reporter au datasheet de votre composant. Vous y trouverez les chronogrammes de lecture (ou d'\'e9
criture dans le cas d'un choix d'une voie de multiplexage) ainsi que toutes les caract\'e9ristiques de votre convertisseur. La caract\'e9ristique essentielle est le temps de conversion qui permet de d\'e9terminer la limite d'\'e9chantillonnage du syst\'e8
me. Pour le ADC0831, ce temps est de 32\'b5s, soit 31,25 KHz. Or, pour r\'e9cup\'e9rer un signal en entier, le th\'e9or\'e8me de Shannon dit qu'il faut \'e9chantillonner \'e0 au moins deux fois la fr\'e9
quence maximale. Dans la pratique, il faut compter un facteur d'au moins 10, ce qui limite notre syst\'e8me \'e0 une fr\'e9quence d'entr\'e9e d'environ 3 KHz pour esp\'e9rer obtenir une trace convenable. Bien s\'fb
r, l'ordinateur n'est pas la plate-forme id\'e9ale pour une telle application, car d'autres probl\'e8mes viennent se greffer comme le multit\'e2ches du syst\'e8me d'exploitation. Une solution \'e9tant de passer sous le vrai mode DOS par exemple. N'h\'e9si
tez pas \'e0 consulter les sources de notre programme d'exmple, TeamScope, qui offre une bonne base de d\'e9part.
\par 
\par (((inter))) Conclusion
\par Notre montage est tr\'e8s basic mais suffisamment didactique pour comprendre de nombreux ph\'e9nom\'e8nes Le montage \'e9lectronique peuvent \'eatre am\'e9liorer. Il serait bon par exemple de placer un condensateur commutable \'e0 l'entr\'e9e (100nF) 
pour choisir entre les modes AC et DC. Au niveau de l'AOP, il peut \'eatre int\'e9ressant de choisir une alimentation sym\'e9
trique +5/-5V pour avoir une plage plus grande et pour visualiser les tensions alternatives. Il existe quelques convertisseurs DC/DC comme le MAX828 qui permettent d'obtenir du \endash 5V \'e0 partir du +5V. Enfin, une attention un peu plus grande peut 
\'eatre apport\'e9e \'e0 la tension de r\'e9f\'e9rence pour qu'elle ne soit moins sujette aux perturbations de l'alimentation. Voil\'e0 de quoi vous occuper !
\par 
\par }\pard\plain \s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((signature)))
\par Anthony Rabine - arabine@programmationworld.com
\par }\pard\plain \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 
\par }\pard\plain \s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((images)))
\par elec1.tif : Notre oscilloscope rudimentaire.
\par elec2.tif : Le convertisseur analogique num\'e9rique est le c\'9cur du montage.
\par elec3.tif : Principe de la conversion par approximations successives.
\par elec4.tif : Les datasheets fournissent tous les chronogrammes pour construire vos algorithmes.
\par }}