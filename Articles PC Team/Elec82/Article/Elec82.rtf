{\rtf1\ansi\ansicpg1252\uc1 \deff0\deflang1036\deflangfe1036{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman{\*\falt Thorndale};}{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New;}
{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}{\f14\fnil\fcharset2\fprq2{\*\panose 05000000000000000000}Wingdings;}{\f101\froman\fcharset238\fprq2 Times New Roman CE{\*\falt Thorndale};}
{\f102\froman\fcharset204\fprq2 Times New Roman Cyr{\*\falt Thorndale};}{\f104\froman\fcharset161\fprq2 Times New Roman Greek{\*\falt Thorndale};}{\f105\froman\fcharset162\fprq2 Times New Roman Tur{\*\falt Thorndale};}
{\f106\froman\fcharset177\fprq2 Times New Roman (Hebrew){\*\falt Thorndale};}{\f107\froman\fcharset178\fprq2 Times New Roman (Arabic){\*\falt Thorndale};}{\f108\froman\fcharset186\fprq2 Times New Roman Baltic{\*\falt Thorndale};}
{\f117\fmodern\fcharset238\fprq1 Courier New CE;}{\f118\fmodern\fcharset204\fprq1 Courier New Cyr;}{\f120\fmodern\fcharset161\fprq1 Courier New Greek;}{\f121\fmodern\fcharset162\fprq1 Courier New Tur;}
{\f122\fmodern\fcharset177\fprq1 Courier New (Hebrew);}{\f123\fmodern\fcharset178\fprq1 Courier New (Arabic);}{\f124\fmodern\fcharset186\fprq1 Courier New Baltic;}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;
\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;
\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 \snext0 Normal;}{\*\cs10 \additive Default Paragraph Font;}{
\s15\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe255\cgrid\langnp1036\langfenp255 \snext15 Standard;}{\s16\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \i\f2\fs20\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 
\sbasedon0 \snext16 Plain Text;}}{\*\listtable{\list\listtemplateid1729262492\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace0\levelindent0{\leveltext\leveltemplateid67895297
\'01\u-3913 ?;}{\levelnumbers;}\loch\af3\hich\af3\dbch\af0\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li720\jclisttab\tx720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0
{\leveltext\leveltemplateid67895299\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1440\jclisttab\tx1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0
\levelindent0{\leveltext\leveltemplateid67895301\'01\u-3929 ?;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2160\jclisttab\tx2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0
\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895297\'01\u-3913 ?;}{\levelnumbers;}\f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2880\jclisttab\tx2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0
\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895299\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3600\jclisttab\tx3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0
\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895301\'01\u-3929 ?;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4320\jclisttab\tx4320 }{\listlevel\levelnfc23
\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895297\'01\u-3913 ?;}{\levelnumbers;}\f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5040\jclisttab\tx5040 }
{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895299\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5760
\jclisttab\tx5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\leveltemplateid67895301\'01\u-3929 ?;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 
\fi-360\li6480\jclisttab\tx6480 }{\listname ;}\listid505290879}}{\*\listoverridetable{\listoverride\listid505290879\listoverridecount0\ls1}}{\info{\author Belegar}{\operator Belegar}{\creatim\yr2002\mo6\dy17\min45}{\revtim\yr2002\mo7\dy11\hr15\min21}
{\version33}{\edmins1550}{\nofpages2}{\nofwords1489}{\nofchars7892}{\*\company Dwarf Corp.}{\nofcharsws9354}{\vern8269}}\paperw11905\paperh16837\margl1134\margr1134\margt1134\margb1134 
\deftab1250\widowctrl\ftnbj\aenddoc\hyphhotz425\makebackup\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dghspace120\dgvspace120\dghorigin1701\dgvorigin1984\dghshow0\dgvshow3
\jcompress\viewkind1\viewscale148\viewzk2\nolnhtadjtbl \fet0\sectd \sbknone\linex0\sectdefaultcl {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3
\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}
{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain 
\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((Magazine: PC Team 78)))
\par (((Rubrique : Team Pratik)))
\par }\pard\plain \s16\ql \li0\ri0\nowidctlpar\aspalpha\faauto\rin0\lin0\itap0 \i\f2\fs20\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\i0\f0 (((Sous Rubrique : \'e9lectronique)))
\par 
\par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \fs24\lang1036\langfe1036\cgrid\langnp1036\langfenp1036 {\fs20 (((titre))) TeamBot (7 et fin) \endash  Le robot complet
\par 
\par (((chapo)))
\par Durant les pr\'e9c\'e9dents articles, nous avons d\'e9velopp\'e9 quelques modules de robotique ind\'e9pendants. Nous allons maintenant les assembler afin de finir notre robot suiveur de ligne appel\'e9 TeamBot.
\par 
\par (((texte)))
\par Rappelons bri\'e8vement le mat\'e9riel et les connaissances que nous poss\'e9dons. D'une part nous savons maintenant comment programmer les microcontr\'f4leurs de la famille PIC 16F84. Deux processeurs de ce mod\'e8
le nous servirons dans le robot . L'un contr\'f4lera la carte moteur, tandis que l'autre jouera le r\'f4le de la strat\'e9gie. (c'est la partie "cerveau") Ce dernier sera le nerf central de notre \'e9
lectronique : il recevra les informations en provenance des capteurs (les "yeux") et enverra des ordres aux moteurs. (les "jambes") Pour plus de facilit\'e9, nous appellerons le premier processeur "capteurs" et le second "PWM" 
(Pulse Width Modulation) en rapport avec leurs fonctions respectives.
\par 
\par (((inter))) Un peu de m\'e9canique
\par La robotique n'est pas exclusivement un domaine r\'e9serv\'e9 \'e0 l'\'e9lectronique et \'e0 l'informatique. Au contraire m\'eame, ces deux mati\'e8res ne sont que minoritaires au sein d'un robot. La m\'e9canique tient s\'fb
rement la part la plus importante. Un robot bien pens\'e9, stable, l\'e9ger et robuste sont les crit\'e8res minimums de r\'e9ussite. Par exemple, une m\'e9canique bien pens\'e9e peut se distinguer par des emplacements r\'e9serv\'e9s aux cartes \'e9
lectroniques, une facilit\'e9 d'acc\'e8s \'e0 tous les \'e9l\'e9ments internes et par la modularit\'e9 de l'ensemble. Dans le cas de notre robot, il va falloir jouer la r\'e9cup\'e9ration. La premi\'e8re chose \'e0 faire est de monter un ch\'e2ssis. Ce ch
\'e2ssis sera la base du robot et devra \'eatre con\'e7u intelligemment. Par exemple, il faut r\'e9server des emplacements pour les cartes \'e9lectroniques mais \'e9galement les c\'e2bles et les fils de liaisons, souvent tr\'e8
s encombrants. La photo ci-contre montre un exemple de chassis, avec ses moteurs. Notons qu'un trou central a \'e9t\'e9 perc\'e9
 afin de laisser passer les fils du moteur. Il reste assez de place autour pour y fixer une petite carte moteurs ou des batteries par exemple. Deux roues folles seront plac\'e9es \'e0 l'avant et \'e0 l'arri\'e8re du robot, align\'e9
es sur l'axe central. Bien entendu, ce n'est pas la meilleure solution pour les terrains accident\'e9s ; TeamBot devra se contenter de surfaces compl\'e8tement planes. Enfin, il faudra r\'e9
server un espace de fixation pour les capteurs de ligne. Une astuce consiste \'e0 r\'e9aliser des trous oblongs verticaux de fa\'e7on \'e0 pouvoir ajuster pr\'e9cis\'e9ment la distance entre le sol et les capteurs. Le reste du robot sera mont\'e9
 en hauteur en confectionnant des \'e9tages o\'f9 viendront se loger les autres cartes, des capteurs et tout autre module \'e9lectronique ou m\'e9canique. Ces \'e9tages pourront s'appuyer sur des tiges filet\'e9es, des profil\'e9s ou tout autre \'e9l\'e9
ment m\'e9tallique fix\'e9 au ch\'e2ssis.
\par 
\par (((inter))) La carte moteurs
\par Nous avons expliqu\'e9 le principe de fonctionnement du pont en H dans le PC team 77. Nous allons donc passer bri\'e8vement sur cette partie. Nous avons opt\'e9 pour un pont en H tout int\'e9gr\'e9 pour des raisons de place et de co\'fbt, par rapport \'e0
 une solution faite \'e0 partir de transistors MOS. Le circuit est le fameux L293, double pont en H tout int\'e9gr\'e9. Ce circuit est l\'e9gion dans les contr\'f4les de moteurs \'e0 courant continu et est tout \'e0 fait adapt\'e9 \'e0
 notre application compte tenu du courant maximum utilis\'e9 par nos moteurs. (600mA) Attention cependant car il existe plusieurs versions. Le L293D poss\'e8de des diodes de roues libres en interne tandis que les versions L293B et E sont capables de d\'e9
biter un courant plus important. (1A) Nous utiliserons donc cette derni\'e8re version, qui se pr\'e9sente sous la forme d'un bo\'eetier DIP classique \'e0 20 broc
hes. Pour que le circuit fonctionne correctement, quatre diodes de roue libre par moteur sont \'e0 ajouter \'e0 l'ext\'e9rieur du circuit. Ces diodes doivent \'eatre rapides et doivent pouvoir commuter des courants assez important de l'ordre de l'Amp\'e8
re. Il est important de choisir des diodes rapides afin de ne pas d\'e9t\'e9riorer le pont en H. Nous avons opt\'e9 pour des diodes Schottky faible puissance (BYV 10-20 A) capables de supporter un courant d'un Amp\'e8re sous 20 Volts. Le d\'e9
faut majeur du L293 est qu'il a tendance \'e0 chauffer, surtout si on lui envoie un signal de type PWM comme dans notre application. La commutation \'e0 fr\'e9quence rapide provoque un fort d\'e9gagement de chaleur qu'il peut \'ea
tre difficile de dissiper car ce circuit est en bo\'eetier DIP. Pour pallier en partie ce probl\'e8me le constructeur a pr\'e9vu quatre broches servant \'e0 \'e9vacuer la chaleur. Ces broches seront reli\'e9es \'e0 la masse, et, au mieux, \'e0
 une large zone de cuivre ou d'\'e9tain. (Un bon plan de masse jouera parfaitement son r\'f4le) Dans tous les cas, veillez \'e0 ne p
as pousser le circuit dans ses derniers retranchements car ce pont en H est relativement fragile et malheureusement un peu cher. (compter environ 10\'80) La carte moteur contient \'e9galement le syst\'e8me d'alimentation de toute l'\'e9
lectronique du robot. Cette partie reste tr\'e8s classique et fait appel aux traditionnels r\'e9gulateurs 7805 pour les circuits logiques et 7806 pour les moteurs. Bien s\'fbr, cette partie devra \'eatre modifi\'e9e selon les moteurs utilis\'e9
s. Une seule batterie assure l'alimentation du robot. Pour des raisons de perturbations provoqu\'e9es par les moteurs, on aurait pu utiliser deux batteries : l'une d\'e9di\'e9e aux moteurs et l'autre au reste de l'\'e9lectronique. Les deux parties \'e9
tant isol\'e9es \'e9lectriquement par des optocoupleurs. On \'e9vite ainsi de perturber toute l'\'e9lectronique. Enfin, une diode de puissance situ\'e9e juste apr\'e8s le connecteur de la batterie prot\'e9
gera les circuits de toute inversion malencontreuse de la polarit\'e9.
\par 
\par (((inter))) Les microcontr\'f4leurs
\par Notre robot sera \'e9quip\'e9 de deux microcontr\'f4leurs. Ce syst\'e8me a pour but de simplifier la programmation de chaque processeur. C'est g\'e9n\'e9ralement une des meilleures lorsque les processeurs utilis\'e9s ne sont pas tr\'e8
s puissants. Lorsque le microcontr\'f4leur d\'e9di\'e9 \'e0 la commande des moteurs (PWM) sera parfaitement fonctionnel, il ne sera plus n\'e9cessaire de toucher \'e0 sa programmation. Le microcontr\'f4leur "capteurs" aura donc tout son temps processeur d
\'e9di\'e9 \'e0 la strat\'e9gie et au traitement des informations en provenance des capteurs. D\'e8s lors, il faut cr\'e9er une communication entre les deux processeurs. La donn\'e9e v\'e9hicul\'e9e sera l'ordre de marche des moteurs (avant, arri\'e8
re, tourner vers la gauche etc.) comme nous l'avons vu dans les PC team 76 et 77. Le bus de communication est de 4 bits et il n'est pas utile de cr\'e9er un quelconque handshake : l'ordre de marche sera toujours pr\'e9
sente sur le bus. Une petite remarque concernant l'\'e9lectronique des processeurs : le processeur "capteurs" sera toujours l'\'e9metteur du message et, partant, aura son port en sortie. L'inverse est val
able pour le processeur "PWM". Afin de limiter tout risque de court circuit, les ports devront \'eatre configur\'e9s en collecteur ouvert, une s\'e9rie de r\'e9sistances externes jouant le r\'f4le de pull-up au 5V. Il n'y a aucune raison de s'inqui\'e9
ter durant la p\'e9riode de d\'e9marrage car les ports des microcontr\'f4leurs s'initialisent en entr\'e9e lors d'un Reset pour des raisons de s\'e9curit\'e9. Les premi\'e8res routines assembleurs seront d\'e9di\'e9es \'e0
 l'initialisation des ports, comme d'habitude dans le monde des microcontr\'f4leurs.
\par 
\par (((inter))) Capteurs et implantation
\par Les capteurs seront au nombre de trois c\'e2bl\'e9s \'e0 l'identique. Pour plus d'information, reportez-vous au PC team 78 qui traite sur toute sorte de capteurs. Les valeurs des r\'e9sistances ont \'e9t\'e9 choisies de fa\'e7on \'e0 d\'e9tecter une diff
\'e9rence de couleur entre le noir et le blanc. Pour les utiliser sur d'autres couleurs il suffit de changer la valeur de ces r\'e9sistances, sachant que le mieux est de placer des potentiom\'e8tres ou des trimmers (potentiom\'e8tres de pr\'e9
cision) et de faire des essais. Ces capteurs bons march\'e9s ont un seul inconv\'e9nient, et de taille : leur distance de d\'e9tection est tr\'e8s faible ce qui impose de les utiliser \'e0
 une distance maximale de 4mm au-dessus du sol. En ce qui concerne l'implantation de toutes ces fonctions, nous vous conseillons le sch\'e9ma ci contre. Nous avons donc trois cartes : une carte capteurs, une carte moteurs et une carte processeurs. Des 
plaques \'e0 trous ou \'e0 bandes cuivr\'e9es supporteront parfaitement toute l'\'e9lectronique. Quant aux liaisons carte \'e0 carte nous vous conseillons d'utiliser des borniers \'e0 vis ou embrochables. Bien s\'fbr, c'est \'e0 vous d'adapter cela \'e0
 vos besoins et selon votre mat\'e9riel \'e0 disposition. Nous vous conseillons \'e9galement de munir la batterie d'un interrupteur qui se r\'e9v\'e8lera tr\'e8s pratique \'e0 l'usage.
\par 
\par (((inter))) Conclusion
\par Notre s\'e9rie sur les robots touche \'e0 sa fin. Il reste encore du travail \'e0 effectuer, nous n'avons fourni que les bases pour commencer dans de bonnes conditions. Nous vous laissons le soin de programmer le microcontr\'f4
leur "capteurs" comme bon vous semble. La programmation en elle-m\'eame n'est pas tr\'e8s difficile. Si vous cherchez une utilisation pour votre robot, nous vous conseillons de participer \'e0 la coupe de robotique organis\'e9e par l'ANSTJ. (
http://www.anstj.org/robot/)
\par 
\par (((signature)))
\par Anthony Rabine - arabine@programmationworld.com
\par 
\par (((images)))
\par elec1.tif : Le sch\'e9ma de c\'e2blage du L293E avec ses diodes de roue libre.
\par elec2.tif : Vu du dessous du ch\'e2ssis, avec les deux moteurs fix\'e9s.
\par elec3.tif : Principe de commande du L293E.
\par elec4.tif : La carte moteurs termin\'e9e, au centre r\'e8gne le L293 et en bas l'alimentation.
\par elec5.tif : Un exemple d'implantation du syst\'e8me sur trois cartes.
\par elec6.tif : La position des capteurs permet de d\'e9terminer la trajectoire de la ligne noire.
\par }}